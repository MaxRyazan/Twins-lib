(function(g,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(g=typeof globalThis<"u"?globalThis:g||self,e(g["twins-vue"]={},g.Vue))})(this,function(g,e){"use strict";const A={class:"tw_button_slot"},V=e.defineComponent({__name:"tw-button",props:{width:{},height:{},success:{type:Boolean},warning:{type:Boolean},error:{type:Boolean},outline:{type:Boolean},rounded:{type:Boolean},round:{type:Boolean},disabled:{type:Boolean},border:{},bgc:{},text_color:{},hover:{}},emits:["push"],setup(i){const c=i,l=e.ref();return e.onMounted(()=>{let t=c.bgc??document.body.style.getPropertyValue("--tw_button_default_background_color");c.success&&(t=document.body.style.getPropertyValue("--tw_button_success_background_color")),c.warning&&(t=document.body.style.getPropertyValue("--tw_button_warning_background_color")),c.error&&(t=document.body.style.getPropertyValue("--tw_button_error_background_color")),c.outline&&(t=document.body.style.getPropertyValue("--tw_button_outline_background_color")),c.hover&&(l.value.addEventListener("mouseover",()=>{l.value.style.backgroundColor=c.hover}),l.value.addEventListener("mouseout",()=>{l.value.style.backgroundColor=t}))}),(t,d)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"tw_lib_Button",ref:l,onClick:d[0]||(d[0]=o=>t.$emit("push")),style:e.normalizeStyle({width:t.width,height:t.height,border:t.border,backgroundColor:t.bgc,color:t.text_color}),class:e.normalizeClass(["tw_button",{success:t.success,warning:t.warning,error:t.error,disabled:t.disabled,outline:t.outline,rounded:t.rounded,round:t.round}])},[e.createElementVNode("span",A,[e.renderSlot(t.$slots,"default")])],6))}}),L={key:0,style:{color:"rgb(212, 190, 50)"},class:"table_no_data"},j=["colspan"],O=["onClick","onDblclick","onContextmenu"],P=["colspan"],T={style:{display:"inline-flex"}},D={key:0},R={key:0},E=e.defineComponent({__name:"tw-table-base",props:{header:{type:Array,required:!1},body:{type:Array,required:!0},td_align_left:{type:Boolean,required:!1},td_align_right:{type:Boolean,required:!1},elements_with_tabulation:{type:Array,required:!1},cell_padding:{type:String,required:!1},red_when_sub_zero:{type:Boolean,required:!1},table_with_select:{type:Boolean,required:!1},with_fixed:{type:Number,required:!1},width:{type:String,required:!1},height:{type:String,required:!1},header_bgc:{type:String,required:!1},header_font_color:{type:String,required:!1},header_font_size:{type:String,required:!1},cell_font_size:{type:String,required:!1},cell_font_color:{type:String,required:!1},table_bgc:{type:String,required:!1},cell_min_width:{type:String,required:!1},multicolor:{type:Boolean,required:!1},row_custom_settings:{type:Array,required:!1},header_padding:{type:String,required:!1},table_border:{type:String,required:!1},header_font_family:{type:String,required:!1},header_border_bottom:{type:String,required:!1}},emits:["push","dabClick","rightClick"],setup(i,{emit:c}){const l=c,t=i,d=e.ref("");function o(a,s){d.value=JSON.stringify(a),l("push",{bodyElement:a,$event:s})}function y(a,s){d.value=JSON.stringify(a),l("dabClick",{bodyElement:a,$event:s})}function r(a,s){d.value=JSON.stringify(a),l("rightClick",{bodyElement:a,$event:s})}function u(a){if(t.table_with_select)return d.value===JSON.stringify(a)}const b=e.computed(()=>t.red_when_sub_zero);function k(a){return a===" "||a===""||isNaN(a)?a:t.with_fixed?Number(a).toFixed(t.with_fixed):Number(a)}function C(a){if(t.row_custom_settings){const s=t.row_custom_settings.find(f=>f.idx===a);return s&&s.bgc?s.bgc:t.table_bgc}else return t.table_bgc}function n(a){if(t.row_custom_settings){const s=t.row_custom_settings.find(f=>f.idx===a);return s&&s.textColor?s.textColor:t.cell_font_color??"black"}else return t.cell_font_color??"black"}function S(a){if(t.row_custom_settings){const s=t.row_custom_settings.find(f=>f.idx===a);return s?s.fontSize:"14px"}else return"14px"}function p(a){if(t.row_custom_settings){const s=t.row_custom_settings.find(f=>f.idx===a);if(s)return s.fontFamily}}function B(a){if(t.row_custom_settings){const s=t.row_custom_settings.find(f=>f.idx===a);if(s&&s.isSubTitle)return s.isSubTitle}}function m(a){if(t.row_custom_settings){const s=t.row_custom_settings.find(f=>f.idx===a);return s&&s.textAlign?s.textAlign:!1}return!1}return(a,s)=>{var f;return e.openBlock(),e.createElementBlock("table",{style:e.normalizeStyle({width:t.width??"200px",height:t.height??"auto",border:i.table_border??"1px solid black"}),class:e.normalizeClass(["global-table",{td_align_left:i.td_align_left,td_align_right:i.td_align_right}])},[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.header,(w,_)=>(e.openBlock(),e.createElementBlock("th",{style:e.normalizeStyle({backgroundColor:t.header_bgc??"rgb(220, 220, 220)",color:t.header_font_color??"black",fontSize:i.header_font_size??"18px",fontFamily:t.header_font_family??"",padding:t.header_padding??"5px 10px",border:i.table_border??"1px solid black",borderBottom:i.header_border_bottom??i.table_border??"2px solid black"}),key:_},e.toDisplayString(w),5))),128))])]),e.createElementVNode("tbody",null,[i.body.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("tr",L,[e.createElementVNode("td",{colspan:((f=i.header)==null?void 0:f.length)||1}," Данные отсутствуют ",8,j)])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.body,(w,_)=>(e.openBlock(),e.createElementBlock("tr",{key:_,style:e.normalizeStyle({backgroundColor:C(_),color:n(_),fontSize:S(_),fontFamily:p(_)}),class:e.normalizeClass({odd:_%2===0&&t.multicolor,selected:u(w)}),onClick:h=>o(w,h),onDblclick:h=>y(w,h),onContextmenu:e.withModifiers(h=>r(w,h),["prevent"])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.values(w),(h,q)=>{var $;return e.openBlock(),e.createElementBlock("td",{colspan:B(_)?($=i.header)==null?void 0:$.length:1,style:e.normalizeStyle({padding:t.cell_padding??"5px 10px",fontSize:t.cell_font_size??S(_),color:n(_),minWidth:i.cell_min_width??"50px",border:i.table_border??"1px solid black",fontFamily:p(_),textAlign:B(_)?m(_)??i.td_align_left?"left":i.td_align_right?"right":"center":i.td_align_left?"left":i.td_align_right?"right":"center"}),key:q},[e.createElementVNode("div",T,[t.elements_with_tabulation?(e.openBlock(),e.createElementBlock("div",D,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.elements_with_tabulation,(F,ce)=>(e.openBlock(),e.createElementBlock("div",{key:ce},[F[0]===_&&F[1]===q?(e.openBlock(),e.createElementBlock("pre",R,"   ")):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0),e.createElementVNode("span",{class:e.normalizeClass({red_when_sub_zero:b.value&&h<0})},e.toDisplayString(k(h)),3)])],12,P)}),128))],46,O))),128))])],6)}}}),M={class:"tw_input_wrapper"},W=["value","type","min","max","step","maxlength","placeholder","disabled","readonly"],z=e.defineComponent({__name:"tw-input",props:{modelValue:{},width:{},height:{},input_width:{},input_font_size:{},input_font_family:{},type:{},min:{},max:{},step:{},max_length:{},border:{},bgc:{},caret_color:{},input_text_color:{},border_bottom:{},padding:{},placeholder:{},text_center:{type:Boolean},border_radius:{},disabled:{type:Boolean},readonly:{type:Boolean},vertical:{type:Boolean},prefix:{},postfix:{},prefix_color:{},postfix_color:{},prefix_font_size:{},prefix_font_family:{},postfix_font_size:{},postfix_font_family:{}},emits:["update:modelValue"],setup(i,{emit:c}){const l=i,t=c;function d(o){l.type==="number"?t("update:modelValue",+o.target.value):t("update:modelValue",o.target.value)}return(o,y)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle({height:o.height,width:o.width}),class:"tw_input_component"},[e.createElementVNode("div",{class:e.normalizeClass(["tw_input_wrap",{tw_input_vertical:o.vertical}]),style:e.normalizeStyle({height:o.height})},[o.prefix?(e.openBlock(),e.createElementBlock("span",{key:0,style:e.normalizeStyle({color:o.prefix_color,fontSize:o.prefix_font_size,fontFamily:o.prefix_font_family})},e.toDisplayString(o.prefix),5)):e.createCommentVNode("",!0),e.createElementVNode("div",M,[e.createElementVNode("input",{value:o.modelValue,onInput:d,class:e.normalizeClass(["tw_input",{tw_input_disabled:o.disabled,tw_input_readonly:l.readonly}]),style:e.normalizeStyle({width:o.input_width,fontSize:o.input_font_size,fontFamily:o.input_font_family,border:o.border,borderBottom:o.border_bottom??o.border??"1px solid rgb(240, 240, 240)",borderRadius:o.border_radius,backgroundColor:o.bgc,caretColor:o.caret_color,color:o.input_text_color,padding:o.padding,textAlign:o.text_center?"center":"start"}),type:o.type??"text",min:o.min,max:o.max,step:o.step,maxlength:o.max_length,placeholder:o.placeholder,disabled:o.disabled,readonly:l.readonly},null,46,W),o.postfix?(e.openBlock(),e.createElementBlock("span",{key:0,style:e.normalizeStyle({color:o.postfix_color,fontSize:o.postfix_font_size,fontFamily:o.postfix_font_family})},e.toDisplayString(o.postfix),5)):e.createCommentVNode("",!0)])],6),e.createElementVNode("span",null,[e.renderSlot(o.$slots,"validator")])],4))}}),J=["value"],H={class:"tw_icon"},I=["onClick"],N=e.defineComponent({__name:"tw-dropdown",props:{modelValue:{},variants:{},width:{},items_height:{},padding:{},color:{},border:{},text_center:{type:Boolean},bgc:{},hover_color:{},font_size:{},font_family:{},font_weight:{}},emits:["update:modelValue"],setup(i,{emit:c}){const l=e.ref(),t=i,d=c,o=e.ref(!1);function y(r){d("update:modelValue",r),o.value=!1}return e.watch(l,()=>{t.hover_color&&l.value&&(l.value.forEach(r=>r.addEventListener("mouseover",()=>{r.style.backgroundColor=t.hover_color})),l.value.forEach(r=>r.addEventListener("mouseout",()=>{r.style.backgroundColor=t.bgc??""})))}),e.watch(o,r=>{r||(l.value.forEach(u=>u.removeEventListener("mouseover",()=>{u.style.backgroundColor=t.hover_color})),l.value.forEach(u=>u.removeEventListener("mouseout",()=>{u.style.backgroundColor=t.bgc??""})),l.value=null)}),(r,u)=>(e.openBlock(),e.createElementBlock("div",{class:"tw_dropdown",style:e.normalizeStyle({width:r.width})},[e.createElementVNode("div",{class:e.normalizeClass(["tw_dropdown__title",{bb_transparent:o.value}]),onClick:u[0]||(u[0]=b=>o.value=!o.value),style:e.normalizeStyle({height:r.items_height,paddingTop:r.padding,paddingBottom:r.padding,paddingLeft:r.padding,border:r.border,backgroundColor:r.bgc})},[e.createElementVNode("input",{style:e.normalizeStyle({color:r.color,textAlign:r.text_center?"center":"start",backgroundColor:r.bgc,fontSize:r.font_size,fontFamily:r.font_family,fontWeight:r.font_weight}),class:"tw_dropdown__value",value:r.modelValue,readonly:"",type:"text"},null,12,J),e.createElementVNode("div",H,[e.createElementVNode("div",{class:"tw_icon__left",style:e.normalizeStyle({transform:o.value?"rotate(60deg)":"rotate(-60deg)"})},null,4),e.createElementVNode("div",{class:"tw_icon__right",style:e.normalizeStyle({transform:o.value?"rotate(-60deg)":"rotate(60deg)"})},null,4)])],6),o.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"tw_dropdown__variants",style:e.normalizeStyle({borderLeft:r.border,borderRight:r.border,borderBottom:r.border})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.variants,b=>(e.openBlock(),e.createElementBlock("ul",{class:"tw_dropdown__list",key:b,style:e.normalizeStyle({backgroundColor:r.bgc})},[e.createElementVNode("li",{onClick:k=>y(b),ref_for:!0,ref_key:"dropdownItem",ref:l,style:e.normalizeStyle({height:r.items_height,padding:r.padding,color:r.color,justifyContent:r.text_center?"center":"start",fontSize:r.font_size,fontFamily:r.font_family,fontWeight:r.font_weight})},[e.createElementVNode("span",null,e.toDisplayString(b),1)],12,I)],4))),128))],4)):e.createCommentVNode("",!0)],4))}}),Z={class:"tw_dropdown_multi-icon"},G=["value"],K={class:"tw_dropdown-variants"},Q=["onClick"],U={key:0,class:"variant_span"},X={key:1,class:"variant_span"},Y={key:2,class:"tw_multi_dropdown-icon"},x=[e.createElementVNode("span",{class:"tw_multi_dropdown-icon-left"},null,-1),e.createElementVNode("span",{class:"tw_multi_dropdown-icon-right"},null,-1)],v={key:3,class:"sub_variants"},ee=["onClick"],te={key:0,class:"variant_span"},oe={key:1,class:"variant_span"},re={key:2,class:"tw_multi_dropdown-icon"},le=[e.createElementVNode("span",{class:"tw_multi_dropdown-icon-left"},null,-1),e.createElementVNode("span",{class:"tw_multi_dropdown-icon-right"},null,-1)],ne={key:0,class:"sub_variants"},ie=["onClick"],ae={class:"variant_span"},se=e.defineComponent({__name:"tw-multi-dropdown",props:{modelValue:{},variants:{},bgc:{},border:{},itemHeight:{},fontSize:{},fontColor:{},textCenter:{type:Boolean},hoverColor:{},width:{},largeArrow:{type:Boolean},arrowColor:{}},emits:["update:modelValue"],setup(i,{emit:c}){const l=i,t=c,d=e.ref(!1),o=e.ref(),y=e.ref();let r=e.reactive([]);function u(n){o.value=n,r=[],!(Object.values(n)[1]instanceof Array)&&(typeof n=="string"||typeof n=="number")&&(t("update:modelValue",n),d.value=!1,o.value={},y.value={})}function b(n){y.value=n,r=Object.values(y.value)[1],(typeof n=="string"||typeof n=="number")&&(t("update:modelValue",n),d.value=!1,o.value={},y.value={},r=[])}function k(n){d.value=!1,o.value={},t("update:modelValue",n),o.value={},y.value={},r=[]}function C(){d.value=!d.value,o.value={},y.value={},r=[]}return e.onMounted(()=>{l.hoverColor&&document.body.style.setProperty("--tw_dropdown_multi_hoverColor",l.hoverColor),l.bgc&&document.body.style.setProperty("--tw_dropdown_multi_bgc",l.bgc),l.textCenter&&document.body.style.setProperty("--tw_dropdown_multi_text_align","center"),l.fontColor&&document.body.style.setProperty("--tw_dropdown_multi_font_color",l.fontColor),l.fontSize&&document.body.style.setProperty("--tw_dropdown_multi_font_size",l.fontSize),l.itemHeight&&document.body.style.setProperty("--tw_dropdown_multi_item_height",l.itemHeight),l.border&&document.body.style.setProperty("--tw_dropdown_multi_border",l.border),l.arrowColor&&document.body.style.setProperty("--tw_dropdown_multi_arrow_color",l.arrowColor),l.largeArrow&&document.body.style.setProperty("--tw_dropdown_multi_arrow_width","2px")}),(n,S)=>(e.openBlock(),e.createElementBlock("div",{class:"tw_multi_dropdown",style:e.normalizeStyle({width:n.width??"170px"})},[e.createElementVNode("div",{style:e.normalizeStyle({borderBottom:d.value?"":n.border?n.border:"1px solid black",borderTop:n.border?n.border:"1px solid black",borderLeft:n.border?n.border:"1px solid black",borderRight:n.border?n.border:"1px solid black"}),class:"tw_multi_dropdown-base",onClick:C},[e.createElementVNode("div",Z,[e.createElementVNode("div",{class:"tw_dropdown_multi-icon-left",style:e.normalizeStyle({transform:d.value?"rotate(-35deg)":"rotate(35deg)",borderWidth:n.largeArrow?"2px":"1px",borderColor:n.arrowColor??"rgba(0,0,0,.2)",backgroundColor:n.arrowColor??"rgba(0,0,0,.2)"})},null,4),e.createElementVNode("div",{class:"tw_dropdown_multi-icon-right",style:e.normalizeStyle({transform:d.value?"rotate(35deg)":"rotate(-35deg)",borderWidth:n.largeArrow?"2px":"1px",borderColor:n.arrowColor??"rgba(0,0,0,.2)",backgroundColor:n.arrowColor??"rgba(0,0,0,.2)"})},null,4)]),e.createElementVNode("input",{class:"tw_multi_dropdown_input",readonly:"",type:"text",value:l.modelValue},null,8,G)],4),e.createElementVNode("div",K,[e.createVNode(e.Transition,{name:"tr_multi_dropdown"},{default:e.withCtx(()=>[d.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"tw_multi_dropdown-variants-item",style:e.normalizeStyle({borderLeft:n.border?n.border:"1px solid black",borderRight:n.border?n.border:"1px solid black",borderBottom:n.border?n.border:"1px solid black"})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.variants,(p,B)=>(e.openBlock(),e.createElementBlock("div",{key:B},[e.createElementVNode("div",{class:e.normalizeClass(["tw_multi_variant",{tw_multi_dropdown_selected:o.value===p}]),onClick:m=>u(p)},[typeof p=="string"||typeof p=="number"?(e.openBlock(),e.createElementBlock("span",U,e.toDisplayString(p),1)):(e.openBlock(),e.createElementBlock("span",X,e.toDisplayString(Object.values(p)[0]),1)),typeof p!="string"&&typeof p!="number"?(e.openBlock(),e.createElementBlock("span",Y,x)):e.createCommentVNode("",!0),o.value&&Object.values(o.value)[0]===Object.values(p)[0]&&Object.values(p)[1]instanceof Array?(e.openBlock(),e.createElementBlock("div",v,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.values(p)[1],m=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tw_multi_variant",{tw_multi_dropdown_selected:y.value===m}]),onClick:a=>b(m)},[typeof m=="string"||typeof m=="number"?(e.openBlock(),e.createElementBlock("span",te,e.toDisplayString(m),1)):(e.openBlock(),e.createElementBlock("span",oe,e.toDisplayString(Object.values(m)[0]),1)),typeof m!="string"&&typeof m!="number"?(e.openBlock(),e.createElementBlock("span",re,le)):e.createCommentVNode("",!0)],10,ee))),256)),e.unref(r).length?(e.openBlock(),e.createElementBlock("div",ne,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(r),m=>(e.openBlock(),e.createElementBlock("div",{class:"tw_multi_variant",key:m,onClick:a=>k(m)},[e.createElementVNode("span",ae,e.toDisplayString(m),1)],8,ie))),128))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],10,Q)]))),128))],4)):e.createCommentVNode("",!0)]),_:1})])],4))}}),de={install:i=>{i.component("tw-button",V),i.component("tw-table-base",E),i.component("tw-input",z),i.component("tw-dropdown",N),i.component("tw-multi-dropdown",se)}};g.TwButton=V,g.TwDropdown=N,g.TwInput=z,g.TwTableBase=E,g.default=de,Object.defineProperties(g,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
