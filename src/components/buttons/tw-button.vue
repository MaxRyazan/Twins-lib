<template>
    <button ref="btn" @click="$emit('push')"
            class="tw_button"
            :style="{
                width: width,
                height: height,
                color: textColor ? textColor : (outline ? (success ? 'forestgreen': (error ? 'crimson' : (warn ? 'orange' : 'white'))) : 'white'),
                backgroundColor: bgc,
                border: border,
            }"
            :class="{
                success,
                warn,
                error,
                disabled,
                outline,
                round,
                rounded
            }">
        <i class="pi" :class="prime_icon" v-if="prime_icon"></i>
        <slot/>
    </button>
</template>

<script setup lang="ts">

import {onMounted, ref} from "vue";

const btn = ref()

const props = defineProps<{
    success?: boolean
    error?: boolean
    warn?: boolean
    outline?: boolean

    rounded?: boolean
    round?: boolean
    disabled?: boolean,

    width?: string,
    height?: string,
    bgc?: string,
    bgcHover?: string,
    textColor?: string,
    border?: string,
    color_gamma?: string,

    prime_icon?: string
}>()
defineEmits<{
    (e: 'push'): void
}>()


onMounted(() => {
    if (props.bgcHover) {
        btn.value.addEventListener('mouseover', () => {
            btn.value.style.backgroundColor = props.bgcHover
        })
        btn.value.addEventListener('mouseout', () => {
            btn.value.style.backgroundColor = props.bgc
        })
    }
})

</script>